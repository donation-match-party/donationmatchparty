"use strict";function ready(a){"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)}ready(function(){for(var a={isoDayOfWeek:function(a){var t=a.getDay();return t=(t+6)%7+1,""+t},startOfToday:function(){var a=new Date;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0)}},t={1970:{overshoot_day:"12-29",days_lasted:362,days_left:3},1971:{overshoot_day:"12-20",days_lasted:353,days_left:12},1972:{overshoot_day:"12-10",days_lasted:344,days_left:22},1973:{overshoot_day:"11-26",days_lasted:329,days_left:36},1974:{overshoot_day:"11-27",days_lasted:330,days_left:35},1975:{overshoot_day:"11-30",days_lasted:333,days_left:32},1976:{overshoot_day:"11-16",days_lasted:320,days_left:46},1977:{overshoot_day:"11-11",days_lasted:314,days_left:51},1978:{overshoot_day:"11-07",days_lasted:310,days_left:55},1979:{overshoot_day:"10-29",days_lasted:301,days_left:64},1980:{overshoot_day:"11-04",days_lasted:308,days_left:58},1981:{overshoot_day:"11-11",days_lasted:314,days_left:51},1982:{overshoot_day:"11-15",days_lasted:318,days_left:47},1983:{overshoot_day:"11-14",days_lasted:317,days_left:48},1984:{overshoot_day:"11-06",days_lasted:310,days_left:56},1985:{overshoot_day:"11-04",days_lasted:307,days_left:58},1986:{overshoot_day:"10-30",days_lasted:302,days_left:63},1987:{overshoot_day:"10-23",days_lasted:295,days_left:70},1988:{overshoot_day:"10-15",days_lasted:288,days_left:78},1989:{overshoot_day:"10-11",days_lasted:283,days_left:82},1990:{overshoot_day:"10-11",days_lasted:283,days_left:82},1991:{overshoot_day:"10-10",days_lasted:282,days_left:83},1992:{overshoot_day:"10-12",days_lasted:285,days_left:81},1993:{overshoot_day:"10-12",days_lasted:284,days_left:81},1994:{overshoot_day:"10-10",days_lasted:282,days_left:83},1995:{overshoot_day:"10-04",days_lasted:276,days_left:89},1996:{overshoot_day:"10-02",days_lasted:275,days_left:91},1997:{overshoot_day:"09-29",days_lasted:271,days_left:94},1998:{overshoot_day:"09-29",days_lasted:271,days_left:94},1999:{overshoot_day:"09-29",days_lasted:271,days_left:94},2000:{overshoot_day:"09-23",days_lasted:266,days_left:100},2001:{overshoot_day:"09-22",days_lasted:264,days_left:101},2002:{overshoot_day:"09-19",days_lasted:261,days_left:104},2003:{overshoot_day:"09-09",days_lasted:251,days_left:114},2004:{overshoot_day:"09-01",days_lasted:244,days_left:122},2005:{overshoot_day:"08-25",days_lasted:236,days_left:129},2006:{overshoot_day:"08-19",days_lasted:230,days_left:135},2007:{overshoot_day:"08-14",days_lasted:225,days_left:140},2008:{overshoot_day:"08-14",days_lasted:226,days_left:140},2009:{overshoot_day:"08-18",days_lasted:229,days_left:136},2010:{overshoot_day:"08-07",days_lasted:218,days_left:147},2011:{overshoot_day:"08-04",days_lasted:215,days_left:150},2012:{overshoot_day:"08-04",days_lasted:216,days_left:150},2013:{overshoot_day:"08-03",days_lasted:214,days_left:151},2014:{overshoot_day:"08-04",days_lasted:215,days_left:150},2015:{overshoot_day:"08-05",days_lasted:216,days_left:149},2016:{overshoot_day:"08-05",days_lasted:217,days_left:149},2017:{overshoot_day:"08-01",days_lasted:212,days_left:153},2018:{overshoot_day:"07-29",days_lasted:209,days_left:156},2019:{overshoot_day:"06-29",days_lasted:209,days_left:156},2020:{overshoot_day:"08-22",days_lasted:234,days_left:132},2021:{overshoot_day:"07-28",days_lasted:208,days_left:157}},e=[],d=1970;d<=2021;d++){for(var s=moment(d+"-01-01"),o=moment(d+"-12-31"),y=[],r=!1,l=moment(s);l.diff(o,"days")<=0;l.add(1,"days")){var _=l.format("YYYY-MM-DD");r||_!==d+"-"+t[d].overshoot_day||(r=!0);var n=new Date(_);y.push({x:_,y:a.isoDayOfWeek(n),overshoot_day_passed:r,date:_,days_lasted:t[d].days_lasted,days_left:t[d].days_left})}e.push(y)}var i=document.getElementById("data-descriptions"),h="";e.forEach(function(a,e){var d="",s=a[0].date.split("-")[0];switch(s){case"2020":d=' <a href="https://earthobservatory.nasa.gov/images/148477/covid-19-lockdowns-cut-pollution-but-not-all-of-it" target="_blank" rel="noopener">Due to COVID-19</a>, the Overshoot Day was pushed further into the year.'}var o=0===e?"bg-dark":"";h+='\n          <div class="step --min-vh-100 p-3 '+o+'" data-step="'+e+'">\n            <h2>'+s+"</h2>\n            <p>In "+s+" the Overshoot Day was on <strong>"+moment(s+"-"+t[s].overshoot_day).format("MMMM DD")+'</strong>, which means our planet lasted us <span class="days-lasted">'+a[0].days_lasted+' days</span> with <span class="days-left">'+a[0].days_left+" days</span> left in the year."+d+"</p>\n          </div>\n        "}),i.innerHTML=h,Chart.defaults.color="#fff";var f={red:"#BF625A",green:"#84D98A"},v={datasets:[{label:"My Matrix",data:e[0],backgroundColor:function(a){return a.dataset.data[a.dataIndex].overshoot_day_passed?f.red:f.green},borderColor:function(a){return a.dataset.data[a.dataIndex].overshoot_day_passed?f.red:f.green},borderWidth:1,hoverBackgroundColor:"yellow",hoverBorderColor:"yellowgreen",width:function(a){var t=a.chart.chartArea||{};return(t.right-t.left)/60-1},height:function(a){var t=a.chart.chartArea||{};return(t.bottom-t.top)/10-1}}]},c={y:{type:"time",offset:!0,time:{unit:"day",round:"day",isoWeekday:1,parser:"d"},reverse:!0,position:"right",ticks:{display:!1,maxRotation:0,autoSkip:!0,padding:1},grid:{display:!1,drawBorder:!1,tickLength:0}},x:{type:"time",position:"bottom",offset:!0,time:{unit:"week",round:"week",isoWeekday:1,displayFormats:{week:"MMMM"}},ticks:{maxRotation:0,autoSkip:!0,font:{color:"#fff",size:12}},grid:{display:!1,drawBorder:!1,tickLength:0}}},u={animation:!1,aspectRatio:5,plugins:{legend:!1,tooltip:{displayColors:!1,callbacks:{title:function(){return""},label:function(a){var t=a.dataset.data[a.dataIndex];return moment(t.date).format("MMMM DD YYYY")}}}},scales:c,layout:{padding:{top:10}}},p=new Chart(document.getElementById("chart"),{type:"matrix",data:v,options:u});document.querySelector(".col-sm-12.col-md-12.bg-white.p-0").classList.add("sticky-top");var m=document.getElementById("description"),g=document.getElementById("menu-icon"),k=scrollama();k.setup({step:".step"}).onStepEnter(function(a){var t=document.querySelectorAll(".bg-dark.step");if(t)for(var d=0,s=t.length;d<s;d++)t[d].classList.remove("bg-dark");document.querySelector('[data-step="'+a.index+'"]').classList.add("bg-dark"),g&&("down"===a.direction&&a.index>=0||"up"===a.direction&&a.index<=e.length-1)&&(g.classList.add("d-none"),g.classList.add("d-md-block")),p.data.datasets[0].data=e[a.index],p.update(),m.innerHTML=""}).onStepExit(function(a){g&&("up"===a.direction&&0===a.index||"down"===a.direction&&a.index===e.length-1)&&g.classList.remove("d-none")}),window.addEventListener("resize",k.resize)});
//# sourceMappingURL=scripts.min.js.map
